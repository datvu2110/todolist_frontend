{"ast":null,"code":"var _jsxFileName = \"/Users/beetee/Downloads/todolist_frontend/src/components/Register/Register.js\";\nimport React from 'react';\nimport { Alert } from \"react-bootstrap\";\nimport \"./Register.css\";\n\nclass Register extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      visible: false\n    };\n\n    this.onNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.onEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.onPasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.onShowAlert = () => {\n      this.setState({\n        visible: true\n      }, () => {\n        window.setTimeout(() => {\n          this.setState({\n            visible: false\n          });\n        }, 4000);\n      });\n    };\n\n    this.onSubmitSignIn = () => {\n      let tempEmail = this.state.email;\n      let tempPassword = this.state.password;\n      let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // const controller = new AbortController()\n      // setTimeout(() => controller.abort(), 3000)\n\n      if (re.test(tempEmail) && tempPassword) {\n        fetch('https://desolate-waters-84729.herokuapp.com/register', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            name: this.state.name,\n            email: this.state.email,\n            password: this.state.password\n          })\n        }).then(user => {\n          if (user.id) {\n            this.props.loadUser(user);\n            this.props.onRouteChange('home');\n          } else {\n            this.onShowAlert();\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"article\", {\n      className: \"frame mw6 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"main\", {\n      className: \"padding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      id: \"sign_up\",\n      className: \"ba b--transparent ph0 mh0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"transparent\",\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      onChange: this.onNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      htmlFor: \"email-address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"transparent\",\n      type: \"email\",\n      name: \"email-address\",\n      id: \"email-address\",\n      onChange: this.onEmailChange,\n      pattern: \"/^[a-zA-Z0-9.!#$%&\\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$/\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"transparent\",\n      minLength: \"5\",\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      onChange: this.onPasswordChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onClick: this.onSubmitSignIn,\n      className: \"signin\",\n      type: \"submit\",\n      value: \"Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }))))), /*#__PURE__*/React.createElement(Alert, {\n      variant: \"info\",\n      show: this.state.visible,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, \"Cannot register a new user!\"));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/beetee/Downloads/todolist_frontend/src/components/Register/Register.js"],"names":["React","Alert","Register","Component","state","email","password","name","visible","onNameChange","event","setState","target","value","onEmailChange","onPasswordChange","onShowAlert","window","setTimeout","onSubmitSignIn","tempEmail","tempPassword","re","test","fetch","method","headers","body","JSON","stringify","then","user","id","props","loadUser","onRouteChange","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Alert } from \"react-bootstrap\"\nimport \"./Register.css\"\n\nclass Register extends React.Component {\n  state = {\n    email:\"\",\n    password: \"\",\n    name:\"\",\n    visible:false\n  }\n\n  \n\n  onNameChange = (event) => {\n    this.setState({\n      name:event.target.value\n    })\n  }\n\n  onEmailChange = (event) =>{\n    this.setState({\n      email:event.target.value\n    })\n  }\n\n  onPasswordChange = (event) =>{\n    this.setState({\n      password:event.target.value\n    })\n  }\n\n  onShowAlert = ()=>{\n    this.setState({visible:true},()=>{\n      window.setTimeout(()=>{\n        this.setState({visible:false})\n      },4000)\n    });\n  }\n\n\n  // Submit sign in if the username and password are not null\n  onSubmitSignIn = () =>{\n    let tempEmail = this.state.email\n    let tempPassword = this.state.password\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n    // const controller = new AbortController()\n    // setTimeout(() => controller.abort(), 3000)\n\n    if (re.test(tempEmail) && tempPassword){\n      fetch('https://desolate-waters-84729.herokuapp.com/register' ,{\n      \n            method:'post',\n            headers:{'Content-Type' : 'application/json'},\n            body:JSON.stringify({\n              name:this.state.name,\n              email:this.state.email,\n              password:this.state.password\n            })\n      })\n  \n      .then(user =>{\n        if (user.id){\n          this.props.loadUser(user)\n          this.props.onRouteChange('home')\n        }\n        else {\n          this.onShowAlert()\n        }\n      })\n\n    }\n  \n  }\n   \n\n  render() {\n    return (\n      <div>\n      <article className=\"frame mw6 \">\n        <main className=\"padding\">\n          <div className=\"\">\n            <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n              <legend className=\"title\">Register</legend>\n              <div className=\"\">\n                <label className=\"\" htmlFor=\"name\">Name</label>\n                <input\n                  className=\"transparent\"\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  onChange={this.onNameChange}\n                />\n              </div>\n              <div className=\"\">\n                <label className=\"\" htmlFor=\"email-address\">Email</label>\n                <input\n                  className=\"transparent\"\n                  type=\"email\"\n                  name=\"email-address\"\n                  id=\"email-address\"\n                  onChange={this.onEmailChange}\n                  \n                  pattern=\"/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\"\n                  required\n                />\n              </div>\n              <div className=\"\">\n                <label className=\"\" htmlFor=\"password\">Password</label>\n                <input\n                  className=\"transparent\"\n                  minLength=\"5\"\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  onChange={this.onPasswordChange}\n                  required\n                />\n              </div>\n            </fieldset>\n            <div className=\"\">\n              <input\n                onClick={this.onSubmitSignIn}\n                className=\"signin\"\n                type=\"submit\"\n                value=\"Register\"\n              />\n            </div>\n          </div>\n        </main>\n      </article>\n      <Alert variant=\"info\" show={this.state.visible} >\n         Cannot register a new user!\n      </Alert>\n      </div>\n    );\n  }\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}